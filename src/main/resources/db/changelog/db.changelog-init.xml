<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog
    xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog https://local.xsd/dbchangelog-4.4.xsd">

    <property name="uuid_function" value="gen_random_uuid()" dbms="postgresql"/>
    <changeSet context="schema-change" id="create-workflow-enum-types" author="poffm">
        <sql>
            CREATE TYPE stepresourcetype AS ENUM (
                'INPUT',
                'OUTPUT',
                'SUPPORT'
            );
        </sql>
        <sql>
            CREATE TYPE stepresourcevalue AS ENUM (
                'SPECIMEN',
                'SPECIMEN_REPLICATE',
                'MIXED_SPECIMEN',
                'SAMPLE',
                'PCR_BATCH',
                'SEQ_BATCH',
                'SEQ_SUBMISSION',
                'PRODUCT',
                'REGION',
                'PRIMER',
                'PCR_PROFILE',
                'PROTOCOL',
                'SHEARING',
                'SIZE_SELECTION',
                'LIBRARY_PREP_BATCH',
                'LIBRARY_POOL'
            );
        </sql>
        <sql>
            CREATE TYPE prelibrarypreptype AS ENUM (
                'SHEARING',
                'SIZE_SELECTION'
            );
        </sql>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-1">
        <createTable tableName="ngsindexes">
            <column name="id" autoIncrement="true" type="SERIAL">
                <constraints nullable="false" primaryKey="true" primaryKeyName="ngsindexes_pkey"/>
            </column>
            <column name="uuid" type="uuid" defaultValueComputed="${uuid_function}">
				<constraints nullable="false" unique="true" />
			</column>
            <column name="application" type="VARCHAR(255)"/>
            <column name="datedestroyed" type="date"/>
            <column name="dateordered" type="date"/>
            <column name="designedby" type="VARCHAR(255)"/>
            <column name="direction" type="VARCHAR(255)"/>
            <column name="litreference" type="VARCHAR(255)"/>
            <column name="lotnumber" type="INTEGER"/>
            <column name="miseqhiseqindexsequence" type="VARCHAR(255)"/>
            <column name="miniseqnextseqindexsequence" type="VARCHAR(255)"/>
            <column name="name" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="notes" type="VARCHAR(255)"/>
            <column name="primersequence" type="VARCHAR(255)"/>
            <column name="purification" type="VARCHAR(255)"/>
            <column name="reference" type="VARCHAR(255)"/>
            <column name="stockconcentration" type="VARCHAR(255)"/>
            <column name="supplier" type="VARCHAR(255)"/>
            <column name="tmcalculated" type="VARCHAR(255)"/>
            <column name="indexsetid" type="INTEGER"/>
            <column name="createdby" type="VARCHAR(250)"/>
            <column name="createdon" type="timestamptz" defaultValueComputed="current_timestamp"/>
        </createTable>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-2">
        <createTable tableName="libraryprepbatchs">
            <column name="id" autoIncrement="true" type="SERIAL">
                <constraints nullable="false" primaryKey="true" primaryKeyName="libraryprepbatchs_pkey"/>
            </column>
            <column name="uuid" type="uuid" defaultValueComputed="${uuid_function}">
				<constraints nullable="false" unique="true" />
			</column>
            <column name="cleanupnotes" type="VARCHAR(255)"/>
            <column name="dateused" type="date"/>
            <column name="name" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="notes" type="VARCHAR(255)"/>
            <column name="totallibraryyieldnm" type="FLOAT8"/>
            <column name="yieldnotes" type="VARCHAR(255)"/>
            <column name="containertypeid" type="INTEGER"/>
            <column name="indexsetid" type="INTEGER"/>
            <column name="productid" type="INTEGER"/>
            <column name="protocolid" type="INTEGER"/>
            <column name="thermocyclerprofileid" type="INTEGER"/>
            <column name="createdby" type="VARCHAR(250)"/>
            <column name="createdon" type="timestamptz" defaultValueComputed="current_timestamp"/>
        </createTable>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-3">
        <createTable tableName="protocols">
            <column autoIncrement="true" name="id" type="SERIAL">
                <constraints nullable="false" primaryKey="true" primaryKeyName="protocols_pkey"/>
            </column>
            <column name="uuid" type="uuid" defaultValueComputed="${uuid_function}">
				<constraints nullable="false" unique="true" />
			</column>
            <column name="description" type="VARCHAR(200)"/>
            <column name="equipment" type="VARCHAR(50)"/>
            <column name="forwardprimerconcentration" type="VARCHAR(50)"/>
            <column name="lastmodified" type="TIMESTAMP WITHOUT TIME ZONE"/>
            <column name="name" type="VARCHAR(50)"/>
            <column name="notes" type="VARCHAR(200)"/>
            <column name="reactionmixvolume" type="VARCHAR(50)"/>
            <column name="reactionmixvolumepertube" type="VARCHAR(50)"/>
            <column name="reference" type="VARCHAR(100)"/>
            <column name="reverseprimerconcentration" type="VARCHAR(50)"/>
            <column name="steps" type="VARCHAR(255)"/>
            <column name="type" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="version" type="VARCHAR(5)"/>
            <column name="productid" type="INTEGER"/>
            <column name="createdby" type="VARCHAR(250)"/>
            <column name="createdon" type="timestamptz" defaultValueComputed="current_timestamp"/>
            <column name="groupname" type="varchar(255)"/>
        </createTable>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-4">
        <createTable tableName="librarypreps">
            <column name="id" autoIncrement="true" type="SERIAL">
                <constraints nullable="false" primaryKey="true" primaryKeyName="librarypreps_pkey"/>
            </column>
            <column name="uuid" type="uuid" defaultValueComputed="${uuid_function}">
				<constraints nullable="false" unique="true" />
			</column>
            <column name="inputng" type="FLOAT8"/>
            <column name="quality" type="VARCHAR(255)"/>
            <column name="size" type="VARCHAR(255)"/>
            <column name="wellcolumn" type="INTEGER"/>
            <column name="wellrow" type="VARCHAR(2)"/>
            <column name="indexi5id" type="INTEGER"/>
            <column name="indexi7id" type="INTEGER"/>
            <column name="libraryprepbatchid" type="INTEGER">
                <constraints nullable="false"/>
            </column>
            <column name="sampleid" type="INTEGER">
                <constraints nullable="false"/>
            </column>
            <column name="createdby" type="VARCHAR(250)"/>
            <column name="createdon" type="timestamptz" defaultValueComputed="current_timestamp"/>
        </createTable>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-5">
        <createTable tableName="prelibrarypreps">
            <column autoIncrement="true" name="id" type="SERIAL">
                <constraints nullable="false" primaryKey="true" primaryKeyName="prelibrarypreps_pkey"/>
            </column>
            <column name="uuid" type="uuid" defaultValueComputed="${uuid_function}">
				<constraints nullable="false" unique="true" />
			</column>
            <column name="averagefragmentsize" type="FLOAT8"/>
            <column name="concentration" type="FLOAT8"/>
            <column name="inputamount" type="FLOAT8"/>
            <column name="lastmodified" type="TIMESTAMP WITHOUT TIME ZONE"/>
            <column name="notes" type="TEXT"/>
            <column name="prelibrarypreptype" type="prelibrarypreptype">
                <constraints nullable="false"/>
            </column>
            <column name="quality" type="VARCHAR(255)"/>
            <column name="targetdpsize" type="FLOAT8"/>
            <column name="productid" type="INTEGER"/>
            <column name="protocolid" type="INTEGER"/>
            <column name="createdby" type="VARCHAR(250)"/>
            <column name="createdon" type="timestamptz" defaultValueComputed="current_timestamp"/>
        </createTable>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-6">
        <createTable tableName="chaintemplates">
            <column autoIncrement="true" name="id" type="SERIAL">
                <constraints nullable="false" primaryKey="true" primaryKeyName="chaintemplates_pkey"/>
            </column>
            <column name="uuid" type="uuid" defaultValueComputed="${uuid_function}">
				<constraints nullable="false" unique="true" />
			</column>
            <column name="name" type="VARCHAR(50)">
                <constraints nullable="false"/>
            </column>
            <column name="createdby" type="VARCHAR(250)"/>
            <column name="createdon" type="timestamptz" defaultValueComputed="current_timestamp"/>
            <column name="groupname" type="varchar(255)"/>
        </createTable>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-7">
        <createTable tableName="librarypools">
            <column name="id" autoIncrement="true" type="SERIAL">
                <constraints nullable="false" primaryKey="true" primaryKeyName="librarypools_pkey"/>
            </column>
            <column name="uuid" type="uuid" defaultValueComputed="${uuid_function}">
				<constraints nullable="false" unique="true" />
			</column>
            <column name="dateused" type="date"/>
            <column name="name" type="VARCHAR(255)"/>
            <column name="notes" type="VARCHAR(255)"/>
            <column name="createdby" type="VARCHAR(250)"/>
            <column name="createdon" type="timestamptz" defaultValueComputed="current_timestamp"/>
        </createTable>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-8">
        <createTable tableName="librarypoolcontents">
            <column name="id" autoIncrement="true" type="SERIAL">
                <constraints nullable="false" primaryKey="true" primaryKeyName="librarypoolcontents_pkey"/>
            </column>
            <column name="uuid" type="uuid" defaultValueComputed="${uuid_function}">
				<constraints nullable="false" unique="true" />
			</column>
            <column name="librarypoolid" type="INTEGER">
                <constraints nullable="false"/>
            </column>
            <column name="pooledlibrarypoolid" type="INTEGER"/>
            <column name="pooledlibraryprepbatchid" type="INTEGER"/>
            <column name="createdby" type="VARCHAR(250)"/>
            <column name="createdon" type="timestamptz" defaultValueComputed="current_timestamp"/>
        </createTable>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-9">
        <createTable tableName="chainsteptemplates">
            <column autoIncrement="true" name="id" type="SERIAL">
                <constraints nullable="false" primaryKey="true" primaryKeyName="chainsteptemplates_pkey"/>
            </column>
            <column name="uuid" type="uuid" defaultValueComputed="${uuid_function}">
				<constraints nullable="false" unique="true" />
			</column>
            <column name="stepnumber" type="INTEGER">
                <constraints nullable="false"/>
            </column>
            <column name="chaintemplateid" type="INTEGER">
                <constraints nullable="false"/>
            </column>
            <column name="steptemplateid" type="INTEGER">
                <constraints nullable="false"/>
            </column>
            <column name="createdby" type="VARCHAR(250)"/>
            <column name="createdon" type="timestamptz" defaultValueComputed="current_timestamp"/>
        </createTable>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-10">
        <createTable tableName="chains">
            <column autoIncrement="true" name="id" type="SERIAL">
                <constraints nullable="false" primaryKey="true" primaryKeyName="chains_pkey"/>
            </column>
            <column name="uuid" type="uuid" defaultValueComputed="${uuid_function}">
				<constraints nullable="false" unique="true" />
			</column>
            <column name="name" type="VARCHAR(50)">
                <constraints nullable="false"/>
            </column>
            <column name="chaintemplateid" type="INTEGER">
                <constraints nullable="false"/>
            </column>
            <column name="createdby" type="VARCHAR(250)"/>
            <column name="createdon" type="timestamptz" defaultValueComputed="current_timestamp"/>
            <column name="groupname" type="varchar(255)"/>
        </createTable>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-11">
        <createTable tableName="samples">
            <column autoIncrement="true" name="id" type="SERIAL">
                <constraints nullable="false" primaryKey="true" primaryKeyName="samples_pkey"/>
            </column>
            <column name="uuid" type="uuid" defaultValueComputed="${uuid_function}">
				<constraints nullable="false" unique="true" />
			</column>
            <column name="datediscarded" type="date"/>
            <column name="discardednotes" type="VARCHAR(255)"/>
            <column name="lastmodified" type="TIMESTAMP WITHOUT TIME ZONE"/>
            <column name="name" type="VARCHAR(50)">
                <constraints nullable="false"/>
            </column>
            <column name="notes" type="TEXT"/>
            <column name="sampletype" type="VARCHAR(255)"/>
            <column defaultValueComputed="${uuid_function}" name="version" type="VARCHAR(50)">
                <constraints nullable="false"/>
            </column>
            <column name="productid" type="INTEGER"/>
            <column name="protocolid" type="INTEGER"/>
            <column name="createdby" type="VARCHAR(250)"/>
            <column name="createdon" type="timestamptz" defaultValueComputed="current_timestamp"/>
            <column name="groupname" type="varchar(255)"/>
        </createTable>
    </changeSet>
    <changeSet context="schema-change" id="create-StepTemplates-table-with-enum-arrays-for-PSQL" author="elkayssin">
        <preConditions onFail="MARK_RAN">
            <dbms type="postgresql" />
        </preConditions>
        <createTable tableName="steptemplates">
            <column autoIncrement="true" name="id" type="SERIAL">
                <constraints nullable="false" primaryKey="true" primaryKeyName="steptemplates_pkey"/>
            </column>
            <column name="uuid" type="uuid" defaultValueComputed="${uuid_function}">
				<constraints nullable="false" unique="true" />
			</column>
            <column name="name" type="varchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="inputs" type="stepresourcevalue []">
                <constraints nullable="false"/>
            </column>
            <column name="outputs" type="stepresourcevalue []">
                <constraints nullable="false"/>
            </column>
            <column name="supports" type="stepresourcevalue []"/>
            <column name="createdby" type="VARCHAR(250)"/>
            <column name="createdon" type="timestamptz" defaultValueComputed="current_timestamp"/>
            <column name="groupname" type="varchar(255)"/>
        </createTable>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-13">
        <createTable tableName="indexsets">
            <column name="id" autoIncrement="true" type="SERIAL">
                <constraints nullable="false" primaryKey="true" primaryKeyName="indexsets_pkey"/>
            </column>
            <column name="uuid" type="uuid" defaultValueComputed="${uuid_function}">
				<constraints nullable="false" unique="true" />
			</column>
            <column name="forwardadapter" type="VARCHAR(255)"/>
            <column name="name" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="reverseadapter" type="VARCHAR(255)"/>
            <column name="createdby" type="VARCHAR(250)"/>
            <column name="createdon" type="timestamptz" defaultValueComputed="current_timestamp"/>
            <column name="groupname" type="varchar(255)"/>
        </createTable>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-14">
        <createTable tableName="containertypes">
            <column autoIncrement="true" name="id" type="SERIAL">
                <constraints nullable="false" primaryKey="true" primaryKeyName="containertypes_pkey"/>
            </column>
            <column name="uuid" type="uuid" defaultValueComputed="${uuid_function}">
				<constraints nullable="false" unique="true" />
			</column>
            <column name="lastmodified" type="TIMESTAMP WITHOUT TIME ZONE"/>
            <column name="name" type="VARCHAR(50)">
                <constraints nullable="false"/>
            </column>
            <column name="numberofcolumns" type="INTEGER">
                <constraints nullable="false"/>
            </column>
            <column name="numberofrows" type="INTEGER">
                <constraints nullable="false"/>
            </column>
            <column name="createdby" type="VARCHAR(250)"/>
            <column name="createdon" type="timestamptz" defaultValueComputed="current_timestamp"/>
            <column name="groupname" type="varchar(255)"/>
        </createTable>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-15">
        <createTable tableName="stepresources">
            <column autoIncrement="true" name="id" type="SERIAL">
                <constraints nullable="false" primaryKey="true" primaryKeyName="stepresources_pkey"/>
            </column>
            <column name="uuid" type="uuid" defaultValueComputed="${uuid_function}">
				<constraints nullable="false" unique="true" />
			</column>
            <column name="value" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="chainid" type="INTEGER">
                <constraints nullable="false"/>
            </column>
            <column name="chaintemplateid" type="INTEGER">
                <constraints nullable="false"/>
            </column>
            <column name="steptemplateid" type="INTEGER">
                <constraints nullable="false"/>
            </column>
            <column name="librarypoolid" type="INTEGER"/>
            <column name="libraryprepbatchid" type="INTEGER"/>
            <column name="pcrprofileid" type="INTEGER"/>
            <column name="prelibraryprepid" type="INTEGER"/>
            <column name="primerid" type="INTEGER"/>
            <column name="productid" type="INTEGER"/>
            <column name="protocolid" type="INTEGER"/>
            <column name="sampleid" type="INTEGER"/>
            <column name="createdby" type="VARCHAR(250)"/>
            <column name="createdon" type="timestamptz" defaultValueComputed="current_timestamp"/>
        </createTable>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-16">
        <createTable tableName="products">
            <column autoIncrement="true" name="id" type="SERIAL">
                <constraints nullable="false" primaryKey="true" primaryKeyName="products_pkey"/>
            </column>
            <column name="uuid" type="uuid" defaultValueComputed="${uuid_function}">
				<constraints nullable="false" unique="true" />
			</column>
            <column name="description" type="VARCHAR(200)"/>
            <column name="lastmodified" type="TIMESTAMP WITHOUT TIME ZONE"/>
            <column name="name" type="VARCHAR(50)">
                <constraints nullable="false"/>
            </column>
            <column name="type" type="VARCHAR(50)"/>
            <column name="upc" type="VARCHAR(50)"/>
            <column name="createdby" type="VARCHAR(250)"/>
            <column name="createdon" type="timestamptz" defaultValueComputed="current_timestamp"/>
            <column name="groupname" type="varchar(255)"/>
        </createTable>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-17">
        <createTable tableName="pcrprimers">
            <column autoIncrement="true" name="id" type="SERIAL">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pcrprimers_pkey"/>
            </column>
            <column name="uuid" type="uuid" defaultValueComputed="${uuid_function}">
				<constraints nullable="false" unique="true" />
			</column>
            <column name="application" type="VARCHAR(200)"/>
            <column name="datedestroyed" type="date"/>
            <column name="dateordered" type="date"/>
            <column name="designedby" type="VARCHAR(50)"/>
            <column name="direction" type="VARCHAR(1)"/>
            <column name="lastmodified" type="TIMESTAMP WITHOUT TIME ZONE"/>
            <column name="lotnumber" type="INTEGER">
                <constraints nullable="false"/>
            </column>
            <column name="name" type="VARCHAR(191)">
                <constraints nullable="false"/>
            </column>
            <column name="note" type="VARCHAR(1024)"/>
            <column name="position" type="VARCHAR(10)"/>
            <column name="purification" type="VARCHAR(50)"/>
            <column name="reference" type="TEXT"/>
            <column defaultValueComputed="${uuid_function}" name="seq" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="sequencelength" type="VARCHAR(50)"/>
            <column name="stockconcentration" type="VARCHAR(10)"/>
            <column name="supplier" type="VARCHAR(50)"/>
            <column name="targetspecies" type="VARCHAR(50)"/>
            <column name="tmcalculated" type="VARCHAR(11)"/>
            <column name="tmpe" type="INTEGER"/>
            <column name="type" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="version" type="INTEGER"/>
            <column name="pooledprimerid" type="INTEGER"/>
            <column name="regionid" type="INTEGER"/>
            <column name="createdby" type="VARCHAR(250)"/>
            <column name="createdon" type="timestamptz" defaultValueComputed="current_timestamp"/>
            <column name="groupname" type="varchar(255)"/>
        </createTable>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-18">
        <createTable tableName="regions">
            <column autoIncrement="true" name="id" type="SERIAL">
                <constraints nullable="false" primaryKey="true" primaryKeyName="regions_pkey"/>
            </column>
            <column name="uuid" type="uuid" defaultValueComputed="${uuid_function}">
				<constraints nullable="false" unique="true" />
			</column>
            <column name="aliases" type="VARCHAR(255)"/>
            <column name="applicableorganisms" type="VARCHAR(255)"/>
            <column name="description" type="VARCHAR(255)"/>
            <column name="name" type="VARCHAR(255)"/>
            <column name="symbol" type="VARCHAR(50)">
                <constraints nullable="false"/>
            </column>
            <column name="createdby" type="VARCHAR(250)"/>
            <column name="createdon" type="timestamptz" defaultValueComputed="current_timestamp"/>
            <column name="groupname" type="varchar(255)"/>
        </createTable>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-19">
        <createTable tableName="pcrprofiles">
            <column autoIncrement="true" name="id" type="SERIAL">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pcrprofiles_pkey"/>
            </column>
            <column name="uuid" type="uuid" defaultValueComputed="${uuid_function}">
				<constraints nullable="false" unique="true" />
			</column>
            <column name="application" type="VARCHAR(1024)"/>
            <column name="cycles" type="VARCHAR(50)"/>
            <column name="lastmodified" type="TIMESTAMP WITHOUT TIME ZONE"/>
            <column name="name" type="VARCHAR(50)">
                <constraints nullable="false"/>
            </column>
            <column name="step1" type="VARCHAR(50)"/>
            <column name="step10" type="VARCHAR(50)"/>
            <column name="step11" type="VARCHAR(50)"/>
            <column name="step12" type="VARCHAR(50)"/>
            <column name="step13" type="VARCHAR(50)"/>
            <column name="step14" type="VARCHAR(50)"/>
            <column name="step15" type="VARCHAR(50)"/>
            <column name="step2" type="VARCHAR(50)"/>
            <column name="step3" type="VARCHAR(50)"/>
            <column name="step4" type="VARCHAR(50)"/>
            <column name="step5" type="VARCHAR(50)"/>
            <column name="step6" type="VARCHAR(50)"/>
            <column name="step7" type="VARCHAR(50)"/>
            <column name="step8" type="VARCHAR(50)"/>
            <column name="step9" type="VARCHAR(50)"/>
            <column name="regionid" type="INTEGER"/>
            <column name="createdby" type="VARCHAR(250)"/>
            <column name="createdon" type="timestamptz" defaultValueComputed="current_timestamp"/>
            <column name="groupname" type="varchar(255)"/>
        </createTable>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-20">
        <addUniqueConstraint columnNames="name, type" constraintName="uk2p7j1eb1eprla37vagbpcye7q" tableName="protocols"/>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-21">
        <addForeignKeyConstraint baseColumnNames="indexi5id" baseTableName="librarypreps" constraintName="fk6b0oeuol92axhv8kvt3n3u453" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="ngsindexes" validate="true"/>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-22">
        <addForeignKeyConstraint baseColumnNames="libraryprepbatchid" baseTableName="librarypreps" constraintName="fkfchn9lac6bsc8s5ritbg92mxr" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="libraryprepbatchs" validate="true"/>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-23">
        <addForeignKeyConstraint baseColumnNames="indexi7id" baseTableName="librarypreps" constraintName="fkkpdamd2f72e28y886v00rsb2o" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="ngsindexes" validate="true"/>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-24">
        <addForeignKeyConstraint baseColumnNames="protocolid" baseTableName="prelibrarypreps" constraintName="fkfrhgu9veuooim9jwiseph4fto" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="protocols" validate="true"/>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-25">
        <addForeignKeyConstraint baseColumnNames="chaintemplateid" baseTableName="chains" constraintName="fk9g3ndf7m0qpxu3aidyf2asg2r" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="chaintemplates" validate="true"/>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-26">
        <addForeignKeyConstraint baseColumnNames="chaintemplateid" baseTableName="chainsteptemplates" constraintName="fkihpb622rcjhrbftgvcaab8u53" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="chaintemplates" validate="true"/>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-27">
        <addForeignKeyConstraint baseColumnNames="pooledlibrarypoolid" baseTableName="librarypoolcontents" constraintName="fk2jcnfhuiceehq016y4q24fj7" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="librarypools" validate="true"/>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-28">
        <addForeignKeyConstraint baseColumnNames="pooledlibraryprepbatchid" baseTableName="librarypoolcontents" constraintName="fkheaswq5vbmnhw1hcxoswf2ybb" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="libraryprepbatchs" validate="true"/>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-29">
        <addForeignKeyConstraint baseColumnNames="librarypoolid" baseTableName="librarypoolcontents" constraintName="fklle27sxhbmor2a21jliq3rgg0" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="librarypools" validate="true"/>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-30">
        <addUniqueConstraint columnNames="chaintemplateid, steptemplateid" constraintName="uk3cy2rm64lindm6rb8f4atrop5" tableName="chainsteptemplates"/>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-31">
        <addUniqueConstraint columnNames="chaintemplateid, stepnumber" constraintName="ukejmwekdr680wpsx197o2c8okj" tableName="chainsteptemplates"/>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-32">
        <addForeignKeyConstraint baseColumnNames="chainid" baseTableName="stepresources" constraintName="fkrfej6rfvn9t8v7bxo6039gg23" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="chains" validate="true"/>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-34">
        <addForeignKeyConstraint baseColumnNames="protocolid" baseTableName="samples" constraintName="fkpl724dt8gtsau5ej5owj47vp9" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="protocols" validate="true"/>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-35">
        <addUniqueConstraint columnNames="name, version" constraintName="ukrfhna9ws4hu4v0t655m2j7voo" tableName="samples"/>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-36">
        <addForeignKeyConstraint baseColumnNames="containertypeid" baseTableName="libraryprepbatchs" constraintName="fk3wxkinxf0jr1moeusy99f2e2q" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="containertypes" validate="true"/>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-37">
        <addUniqueConstraint columnNames="name" constraintName="uk5sqv6gnrvgkicoa29l2f9xpff" tableName="containertypes"/>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-38">
        <addForeignKeyConstraint baseColumnNames="chaintemplateid,steptemplateid" baseTableName="stepresources" constraintName="fk4h1bjshlaac3145agnhv2qg10" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="chaintemplateid,steptemplateid" referencedTableName="chainsteptemplates" validate="true"/>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-39">
        <addForeignKeyConstraint baseColumnNames="protocolid" baseTableName="stepresources" constraintName="fk51yskjq8holgslgbw9vxtphqc" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="protocols" validate="true"/>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-40">
        <addForeignKeyConstraint baseColumnNames="librarypoolid" baseTableName="stepresources" constraintName="fk7k0j834ghdcfqlhk3d4d9mpo5" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="librarypools" validate="true"/>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-41">
        <addForeignKeyConstraint baseColumnNames="libraryprepbatchid" baseTableName="stepresources" constraintName="fkiysskqdt56wdl0cudh65rrt6" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="libraryprepbatchs" validate="true"/>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-42">
        <addForeignKeyConstraint baseColumnNames="sampleid" baseTableName="stepresources" constraintName="fkl6q048kyfv5pxocqep1n4gpok" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="samples" validate="true"/>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-43">
        <addForeignKeyConstraint baseColumnNames="prelibraryprepid" baseTableName="stepresources" constraintName="fkrk482jolk5li6ufkpp5jcuram" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="prelibrarypreps" validate="true"/>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-44">
        <addUniqueConstraint columnNames="name, upc" constraintName="ukghqihjt4y6foqkvg2nb7ikxba" tableName="products"/>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-46">
        <addUniqueConstraint columnNames="name, lotnumber" constraintName="uk5h8mqetht432o6gi2iprmd7c" tableName="pcrprimers"/>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-47">
        <addUniqueConstraint columnNames="name" constraintName="uks7k0km863cn8h4dvj8d43hrr6" tableName="regions"/>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-48">
        <addForeignKeyConstraint baseColumnNames="regionid" baseTableName="pcrprofiles" constraintName="fkfc28namu5v0j979y239sy30m6" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="regions" validate="true"/>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-49">
        <addUniqueConstraint columnNames="name" constraintName="ukj1gembhjaf755vvxs854ep20k" tableName="pcrprofiles"/>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-50">
        <addForeignKeyConstraint baseColumnNames="indexsetid" baseTableName="ngsindexes" constraintName="fkp7lb1301ugdcb74pd17heqfo4" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="indexsets" validate="true"/>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-51">
        <addForeignKeyConstraint baseColumnNames="thermocyclerprofileid" baseTableName="libraryprepbatchs" constraintName="fk9fq67ap11qudobfafcd4ne10m" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="pcrprofiles" validate="true"/>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-52">
        <addForeignKeyConstraint baseColumnNames="productid" baseTableName="libraryprepbatchs" constraintName="fkf825pn14g17ulnua362csu2mq" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="products" validate="true"/>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-53">
        <addForeignKeyConstraint baseColumnNames="protocolid" baseTableName="libraryprepbatchs" constraintName="fkflmuipa0lr4e68rnuoj71uk7o" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="protocols" validate="true"/>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-54">
        <addForeignKeyConstraint baseColumnNames="indexsetid" baseTableName="libraryprepbatchs" constraintName="fkji3td483gspm1l8smmsan0upp" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="indexsets" validate="true"/>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-55">
        <addForeignKeyConstraint baseColumnNames="productid" baseTableName="protocols" constraintName="fko36vodqmj7netpwkal2jqdg34" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="products" validate="true"/>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-56">
        <addForeignKeyConstraint baseColumnNames="sampleid" baseTableName="librarypreps" constraintName="fkdyovrm1bi8awhshieaeyvvuto" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="samples" validate="true"/>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-57">
        <addForeignKeyConstraint baseColumnNames="productid" baseTableName="prelibrarypreps" constraintName="fkb5a2qcdctelkvun1wksry5fo8" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="products" validate="true"/>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-58">
        <addForeignKeyConstraint baseColumnNames="steptemplateid" baseTableName="chainsteptemplates" constraintName="fk95yhmood07pfi6ekll302wyxa" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="steptemplates" validate="true"/>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-59">
        <addForeignKeyConstraint baseColumnNames="productid" baseTableName="samples" constraintName="fkpfhv2y6lu18al3at0nx5xkb2d" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="products" validate="true"/>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-60">
        <addForeignKeyConstraint baseColumnNames="primerid" baseTableName="stepresources" constraintName="fk28hlav2c4wp4a6p728labdh2o" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="pcrprimers" validate="true"/>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-61">
        <addForeignKeyConstraint baseColumnNames="productid" baseTableName="stepresources" constraintName="fk8qwawalvdvunqavg3o3d5vb9k" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="products" validate="true"/>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-62">
        <addForeignKeyConstraint baseColumnNames="pcrprofileid" baseTableName="stepresources" constraintName="fkgvfmvljlsgmquaml91rjlx65p" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="pcrprofiles" validate="true"/>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-63">
        <addForeignKeyConstraint baseColumnNames="pooledprimerid" baseTableName="pcrprimers" constraintName="fkoawukw0apeog0jxn7sthyh0p9" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="pcrprimers" validate="true"/>
    </changeSet>
    <changeSet context="schema-change" author="mat (generated)" id="1596744623461-64">
        <addForeignKeyConstraint baseColumnNames="regionid" baseTableName="pcrprimers" constraintName="fkp2gffci4u9r6k5rvjb86hllwg" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="regions" validate="true"/>
    </changeSet>
</databaseChangeLog>
