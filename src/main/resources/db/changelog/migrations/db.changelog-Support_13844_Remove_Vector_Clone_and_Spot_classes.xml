<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog
  xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
  xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.6.xsd"
  objectQuotingStrategy="QUOTE_ONLY_RESERVED_WORDS">
    
    
<!--     there are two sets of each foreignKey drop since there are 2 different values for foreigns between the live database and the developer environment. -->
<!--     the objective of the preconditions is to check for which foreign key exist on the current data base so we can drop the correct one. -->
<!--     Foreign keys with capitalized names such as FK3016773E78D39268 are from the live database -->
<!--     Keys with underscore then lower case letters, such as FK_t6cd9ar6svjw54k8x9hk5rfoa, are from the developer environment generated database -->
    
     <changeSet
    id="Support_13844_Remove_Vector_Clone_and _Spot_classes_Drop_Locations_CloneID_Option1"
    author="zhous">
    
    <preConditions onFail="MARK_RAN">
        <foreignKeyConstraintExists foreignKeyName="FK_t6cd9ar6svjw54k8x9hk5rfoa"/>
    </preConditions>
    
    <dropForeignKeyConstraint
      baseTableName="Locations"
      constraintName="FK_t6cd9ar6svjw54k8x9hk5rfoa" />
    <dropColumn
      columnName="CloneID"
      tableName="Locations" />

    </changeSet>
    
    <changeSet
    id="Support_13844_Remove_Vector_Clone_and _Spot_classes_Drop_Location_CloneID_Option2"
    author="zhous">
    
    <preConditions onFail="MARK_RAN">
        <foreignKeyConstraintExists foreignKeyName="FK3016773E78D39268"/>
    </preConditions>
    
    <dropForeignKeyConstraint
      baseTableName="Locations"
      constraintName="FK3016773E78D39268" />
    <dropColumn
      columnName="CloneID"
      tableName="Locations" />

    </changeSet>
    
    
    <changeSet
    id="Support_13844_Remove_Vector_Clone_and _Spot_classes_Drop_Sequences_CloneID_Option1"
    author="zhous">
    
    <preConditions onFail="MARK_RAN">
        <foreignKeyConstraintExists foreignKeyName="FK_3u8ticbp842dnauunqgwcwyqd"/>
    </preConditions>
    
    <dropForeignKeyConstraint
      baseTableName="Sequences"
      constraintName="FK_3u8ticbp842dnauunqgwcwyqd" />
    <dropColumn
      columnName="CloneID"
      tableName="Sequences" />
     </changeSet>
     
     
     <changeSet
    id="Support_13844_Remove_Vector_Clone_and _Spot_classes_Drop_Sequences_CloneID_Option2"
    author="zhous">
    
    <preConditions onFail="MARK_RAN">
        <foreignKeyConstraintExists foreignKeyName="FK3510A0B278D39268"/>
    </preConditions>
    
    <dropForeignKeyConstraint
      baseTableName="Sequences"
      constraintName="FK3510A0B278D39268" />
    <dropColumn
      columnName="CloneID"
      tableName="Sequences" />
     </changeSet>
    
    
    <changeSet
    id="Support_13844_Remove_Vector_Clone_and _Spot_classes_Drop_Sequences_VectorID_Option1"
    author="zhous">
    
    <preConditions onFail="MARK_RAN">
        <foreignKeyConstraintExists foreignKeyName="FK_34xfk4n49v3rpj0tucmnbm02i"/>
    </preConditions>
    
    <dropForeignKeyConstraint
      baseTableName="Sequences"
      constraintName="FK_34xfk4n49v3rpj0tucmnbm02i" />
    <dropColumn
      columnName="VectorID"
      tableName="Sequences" />
     </changeSet>
     
     <changeSet
    id="Support_13844_Remove_Vector_Clone_and _Spot_classes_Drop_Sequences_VectorID_Option2"
    author="zhous">
    
    <preConditions onFail="MARK_RAN">
        <foreignKeyConstraintExists foreignKeyName="FK3510A0B2F0EC976E"/>
    </preConditions>
    
    <dropForeignKeyConstraint
      baseTableName="Sequences"
      constraintName="FK3510A0B2F0EC976E" />
    <dropColumn
      columnName="VectorID"
      tableName="Sequences" />
     </changeSet>
     
     
     <changeSet
     id="Support_13844_Remove_Vector_Clone_and _Spot_classes_Drop_Spots_CloneID_Option1"
    author="zhous">
    
    <preConditions onFail="MARK_RAN">
        <foreignKeyConstraintExists foreignKeyName="FK_pmnlt8vntd8p1c8gprjyib8as"/>
    </preConditions>
    
    <!--     No dropColumn since as this table will be dropped-->
    
     <dropForeignKeyConstraint
      baseTableName="Spots"
      constraintName="FK_pmnlt8vntd8p1c8gprjyib8as" />
     </changeSet>
    
    <changeSet
     id="Support_13844_Remove_Vector_Clone_and _Spot_classes-Spots_CloneID_Option2"
    author="zhous">
    
    <preConditions onFail="MARK_RAN">
        <foreignKeyConstraintExists foreignKeyName="FK4C6379178D39268"/>
    </preConditions>
    
    <!--     No dropColumn since as this table will be dropped-->
    
     <dropForeignKeyConstraint
      baseTableName="Spots"
      constraintName="FK4C6379178D39268" />
     </changeSet>
    

     <changeSet
     id="Support_13844_Remove_Vector_Clone_and _Spot_classes-Annotations-Spot_Option1"
    author="zhous">
    
    <preConditions onFail="MARK_RAN">
        <foreignKeyConstraintExists foreignKeyName="FK_793tgch4wtwhchwf0r7pd7bey"/>
    </preConditions>
    
     <dropForeignKeyConstraint
      baseTableName="Annotations"
      constraintName="FK_793tgch4wtwhchwf0r7pd7bey" />
    <dropColumn
      columnName="SpotID"
      tableName="Annotations" />
     </changeSet>
     
     <changeSet
     id="Support_13844_Remove_Vector_Clone_and _Spot_classes-Annotations-Spot_Option2"
    author="zhous">
    
    <preConditions onFail="MARK_RAN">
        <foreignKeyConstraintExists foreignKeyName="FK2A1723045941926C"/>
    </preConditions>
    
     <dropForeignKeyConstraint
      baseTableName="Annotations"
      constraintName="FK2A1723045941926C" />
    <dropColumn
      columnName="SpotID"
      tableName="Annotations" />
     </changeSet>
    

    <changeSet
    id="Support_13844_Remove_Vector_Clone_and _Spot_classes_Drop_Tables_Clones,_Vectors and_Spots"
    author="zhous">
    
    <dropTable tableName="Clones" />
    <dropTable tableName="Vectors" />
    <dropTable tableName="Spots" />
     
     </changeSet>
</databaseChangeLog>