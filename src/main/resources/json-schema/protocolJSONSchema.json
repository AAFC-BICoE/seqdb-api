{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "json-schema/protocolJSONSchema.json",
  "$base": "https://localhost:8080/api/",
  "title": "Protocol Schema",
  "type": "object",
  "required": [
    "data"
  ],
  "properties": {
    "data": {
      "type": "object",
      "required": [
        "id",
        "type",
        "attributes",
        "links"
      ],
      "properties": {
        "id": {
          "$comment": "The id will be displayed here to the user instead of as an attribute.",
          "type": "string",
          "description": "Id reference to this Protocol, generated by the application.",
          "examples": [
            "1",
            "231"
          ],
          "pattern": "^(0|[1-9][0-9]*)$"
        },
        "type": {
          "const": "protocol",
          "description": "The type of the object of the data being returned."
        },
        "attributes": {
          	"allOf": [
          		{ "$ref": "definitions/protocol.json" }
          	]
        },
        "relationships":{
            "properties": {
                "reactionComponents":{ "$ref":"#/definitions/relationshipdata" },
                "kit" : {"$ref" : "#/definitions/relationshipdata"},
                "group":{ "$ref": "#/definitions/relationshipdata" }
            }
	      }
	    }
	  }
	}, 
	"definitions": {
        "relationshipdata":{
            "required": ["links"],
            "properties": {
                "links":{
                    "required": ["self", "related"],
                    "properties": {
                        "self":{
                            "type": "string",
                            "description": "ref to the related object within relationship context."
                        },
                        "related":{
                            "type":"string",
                            "description": "ref to the related object."
                        }
                    }
                }
            }
        }
    }
}